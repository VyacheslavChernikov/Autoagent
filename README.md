üõ†Ô∏è AvtoAgent v3.0
–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–µ–π

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–æ–¥–±–æ—Ä –∑–∞–ø—á–∞—Å—Ç–µ–π –ø–æ VIN, –∞—Ä—Ç–∏–∫—É–ª—É –∏ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ OpenAI Assistant, ROSSKO API –∏ Supabase.

<p align="center"> <img src="https://raw.githubusercontent.com/placeholder/avtoagent-banner.png" width="90%" /> </p> <p align="center"> <b>–ë—ã—Å—Ç—Ä—ã–π. –£–º–Ω—ã–π. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º—ã–π.</b> </p>
<p align="center"> <img src="https://img.shields.io/badge/Platform-Telegram-blue?style=for-the-badge" /> <img src="https://img.shields.io/badge/AI-OpenAI-orange?style=for-the-badge" /> <img src="https://img.shields.io/badge/DB-Supabase-green?style=for-the-badge" /> <img src="https://img.shields.io/badge/API-ROSSKO-red?style=for-the-badge" /> <img src="https://img.shields.io/badge/Workflow-n8n%20%2F%20Make-yellow?style=for-the-badge" /> <img src="https://img.shields.io/badge/License-MIT-lightgrey?style=for-the-badge" /> </p>
üöÄ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç AvtoAgent

AvtoAgent –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ã—á–Ω—ã–π Telegram-—á–∞—Ç –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ø–æ–¥–±–æ—Ä–∞ –∑–∞–ø—á–∞—Å—Ç–µ–π:

–ü–æ–¥–±–æ—Ä –¥–µ—Ç–∞–ª–µ–π –ø–æ VIN

–ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É

–ü–æ–¥–±–æ—Ä –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –¥–µ—Ç–∞–ª–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –∏ –Ω–∞–ª–∏—á–∏—è –∏–∑ ROSSKO API

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Supabase

–û—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ OpenAI Assistant –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON

–í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

‚ö° –ü–æ—á–µ–º—É —ç—Ç–æ –º–æ—â–Ω–æ

1. –ë—ã—Å—Ç—Ä–æ ‚Äî –æ—Ç–≤–µ—Ç –Ω–∞ –ø–æ–¥–±–æ—Ä –∑–∞–Ω–∏–º–∞–µ—Ç 0.5‚Äì1.5 —Å–µ–∫—É–Ω–¥—ã.
2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ ‚Äî –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å EMEX, Exist, TecDoc.
4. –•—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é ‚Äî –∫–∞–∂–¥–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ Supabase.
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ ‚Äî –Ω–∏–∫–∞–∫–æ–π —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –≤—Å—ë –ø–æ API.

üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
git clone https://github.com/username/avtoagent.git
cd avtoagent
cp .env.example .env
npm install
npm run dev

üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

.env.example:

TELEGRAM_TOKEN=
OPENAI_API_KEY=
ASSISTANT_ID=

ROSSKO_BASE_URL=https://api.rossko.ru/service/v2/
ROSSKO_LOGIN=
ROSSKO_PASSWORD=
ROSSKO_KEY=

SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=
SUPABASE_SCHEMA=public

üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
/avtoagent
  ‚îú‚îÄ‚îÄ src/
  ‚îÇ   ‚îú‚îÄ‚îÄ bot.js              # Telegram handler
  ‚îÇ   ‚îú‚îÄ‚îÄ openai.js           # Assistant logic
  ‚îÇ   ‚îú‚îÄ‚îÄ rossko.js           # ROSSKO API client
  ‚îÇ   ‚îú‚îÄ‚îÄ supabase.js         # Database connector
  ‚îÇ   ‚îî‚îÄ‚îÄ utils/
  ‚îÇ       ‚îî‚îÄ‚îÄ format.js       # Formatting helpers
  ‚îú‚îÄ‚îÄ workflows/
  ‚îÇ   ‚îú‚îÄ‚îÄ n8n-export.json
  ‚îÇ   ‚îî‚îÄ‚îÄ make-blueprint.json
  ‚îú‚îÄ‚îÄ supabase/
  ‚îÇ   ‚îú‚îÄ‚îÄ schema.sql
  ‚îÇ   ‚îî‚îÄ‚îÄ triggers.sql
  ‚îú‚îÄ‚îÄ .env.example
  ‚îú‚îÄ‚îÄ README.md
  ‚îú‚îÄ‚îÄ package.json
  ‚îî‚îÄ‚îÄ LICENSE

üß† OpenAI Assistant

–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –≤—ã–¥–∞—ë—Ç —Å—Ç—Ä–æ–≥–æ JSON, —á—Ç–æ–±—ã –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –º–æ–≥–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ü—Ä–∏–º–µ—Ä JSON-–æ—Ç–≤–µ—Ç–∞
{
  "type": "search",
  "query": "–∫–æ–ª–æ–¥–∫–∏",
  "article": "04465-52370",
  "vin": "GS141-0005289",
  "car": "Toyota Crown GS141",
  "need_cross": true
}

–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —É–º–µ–µ—Ç:

–ø–æ–Ω–∏–º–∞—Ç—å VIN –ª—é–±–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –∞—Ä—Ç–∏–∫—É–ª—ã

–∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—à–∏–±–∫–∏

–∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã

—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç

üîÅ Workflow (n8n / Make)

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞:

Telegram Trigger

OpenAI Assistant (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞)

Router (VIN/–∞—Ä—Ç–∏–∫—É–ª/–Ω–∞–∑–≤–∞–Ω–∏–µ)

ROSSKO API

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª—É—á—à–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

–ó–∞–ø–∏—Å—å –≤ Supabase

–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

üß© –î–∏–∞–≥—Ä–∞–º–º–∞
flowchart TD
    A[Telegram ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ] --> B[OpenAI Assistant]
    B --> C{–¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞}
    C -->|VIN| D[VIN-–∞–Ω–∞–ª–∏–∑ ‚Üí –ø–æ–¥–±–æ—Ä —É–∑–ª–æ–≤]
    C -->|–ê—Ä—Ç–∏–∫—É–ª| E[–ü–æ–∏—Å–∫ –ø–æ ROSSKO]
    C -->|–ù–∞–∑–≤–∞–Ω–∏–µ| F[–ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–æ–≤]
    D --> G[ROSSKO API]
    E --> G
    F --> G
    G --> H[–ó–∞–ø–∏—Å—å –≤ Supabase]
    H --> I[–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é]

üóÑÔ∏è Supabase —Å—Ö–µ–º–∞

supabase/schema.sql:

create table offers (
    id uuid primary key default gen_random_uuid(),
    request text,
    vin text,
    article text,
    part_name text,
    price numeric,
    stock text,
    raw jsonb,
    created_at timestamp default now()
);

üéØ –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç:
GS141-0005289 –∫–æ–ª–æ–¥–∫–∏

Assistant ‚Üí JSON:
{
  "type": "search",
  "query": "–∫–æ–ª–æ–¥–∫–∏",
  "article": null,
  "vin": "GS141-0005289",
  "car": "Toyota Crown GS141"
}

ROSSKO –Ω–∞—Ö–æ–¥–∏—Ç:

NiBK PN4304

Advics AD1234

Toyota OEM 04465-30390

–í—ã–¥–∞—ë—Ç—Å—è –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:
–ù–∞–π–¥–µ–Ω–æ: NiBK PN4304  
–¶–µ–Ω–∞: 1 540 ‚ÇΩ  
–ù–∞–ª–∏—á–∏–µ: –ú–æ—Å–∫–≤–∞ ‚Äî 12 —à—Ç  
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: GS141-0005289

Supabase:

‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å—é –ø–æ–¥–±–æ—Ä–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É offers.

üõ£ Roadmap

v3.1

–ö—Ä–æ—Å—Å—ã –ø–æ TecDoc

–ü–æ–¥–±–æ—Ä –ø–æ –≥—Ä—É–ø–ø–∞–º (—Ö–æ–¥–æ–≤–∞—è, —Ç–æ—Ä–º–æ–∑–Ω–∞—è)

–£–ª—É—á—à–µ–Ω–Ω—ã–π JSON –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

v4.0

–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∑–∞–ø—á–∞—Å—Ç–µ–π –ø–æ —Ñ–æ—Ç–æ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è EMEX / Exist

–õ–∏—á–Ω—ã–π –≥–∞—Ä–∞–∂ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ê–≤—Ç–æ-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¢–û

–†–µ–∂–∏–º ¬´–º–∞–≥–∞–∑–∏–Ω¬ª
